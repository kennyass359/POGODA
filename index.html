<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Уведомление об оплате</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    body { background-color: #f5f1e8; font-family: sans-serif; }
    .content { padding: 20px; }
    .trip-details { margin-bottom: 20px; }
    .qrcode { margin-top: 20px; }
  </style>
</head>
<body>
  <div class="content">
    <h1>Уведомление об оплате</h1>
    <div class="trip-details">
      <p>Серия билета: <strong>QR200260003243</strong></p>
      <p>Номер билета: <strong>20240924164417000</strong></p>
      <p>Дата/время поездки: <strong id="trip-date"></strong></p>
      <p>Троллейбус: <strong id="trolley-number"></strong></p>
      <p>Т/С: <strong>789</strong></p>
      <p>Стоимость: <strong>21.00 руб.</strong></p>
    </div>

    <div class="text-block text-block_text-align_center">
      <p>С момента оплаты прошло: <br><strong id="time-since-payment"></strong></p>
    </div>

    <div class="qrcode">
      <p>QR-код билета для предъявления контролеру</p>
      <canvas width="1430" height="1430"></canvas> <!-- Тут можно вставить генерацию QR-кода -->
    </div>

    <div class="ticket__button">
      <button>Скачать билет</button>
    </div>
  </div>

  <script>
    // 1. Динамическая дата и время поездки
    const tripDateElement = document.getElementById('trip-date');
    const now = new Date();
    tripDateElement.textContent = now.toLocaleString('ru-RU', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit'
    });

    // 2. Номер троллейбуса через prompt
    const trolleyNumber = prompt("Введите номер троллейбуса:");
    document.getElementById('trolley-number').textContent = trolleyNumber || 'Не указан';

    // 3. Динамическое время с момента оплаты
    const paymentTime = new Date(); // Тут задаём момент оплаты
    function updateTimeSincePayment() {
      const now = new Date();
      const diff = now - paymentTime;

      const hours = Math.floor(diff / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      document.getElementById('time-since-payment').textContent = `${hours}:${minutes}:${seconds}`;
    }

    // Обновляем время каждые секунды
    setInterval(updateTimeSincePayment, 1000);
  </script>
</body>
</html>
